html(lang='en')
  head
    meta(charset='UTF-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css', rel='stylesheet', integrity='sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3', crossorigin='anonymous')
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js', integrity='sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p', crossorigin='anonymous')
    link(rel='stylesheet', href='/stylesheets/roomStyle/style.css')
    title= roomId
  body.bg-primary.bg-opacity-25.area
    div.d-flex.flex-column.vh-100
      nav.navbar.navbar-expand-lg.navbar-light.bg-primary
        button.navbar-toggler(type='button', data-bs-toggle='collapse', data-bs-target='#navbarText', aria-controls='navbarText', aria-expanded='false', aria-label='Toggle navigation')
          span.navbar-toggler-icon
        div#navbarText.collapse.navbar-collapse
          ul.navbar-nav.me-auto.mb-2.mb-lg-0
            li.nav-item
              button#cameraButtonm.btn.btn-primary.mx-1.my-1(type='button') &#x8996;&#x8A0A;&#x93E1;&#x982D;
            li.nav-item
              button#microphoneButtonm.btn.btn-primary.mx-1.my-1(type='button') &#x9EA5;&#x514B;&#x98A8;
            li.nav-item
              button#screenButtonm.btn.btn-primary.mx-1.my-1(type='button') &#x87A2;&#x5E55;&#x756B;&#x9762;
            li.nav-item
              button#video_startButtonm.btn.btn-primary.mx-1.my-1(type='button') &#x9304;&#x5F71;
            li.nav-item
              button#stopMeetingButton.btn.btn-primary.mx-1.my-1(type='button') &#x7D50;&#x675F;&#x6703;&#x8B70;
          // Button trigger modal
          button.btn.btn-primary(type='button', data-bs-toggle='modal', data-bs-target='#exampleModal')
            | &#x8A2D;&#x7F6E;
          // Modal
          div#exampleModal.modal.fade(tabindex='-1', aria-labelledby='exampleModalLabel', aria-hidden='true')
            div.modal-dialog
              div.modal-content
                div.modal-body.bg-secondary.bg-opacity-75
                  button#staffButton.btn.btn-secondary.my-1(type='button', data-bs-dismiss='modal') &#x6210;&#x54E1;
                  br
                  button#messegeButton.btn.btn-dark.my-1(type='button', data-bs-dismiss='modal') &#x804A;&#x5929;&#x5BA4;
                  br
                  button#voteButton.btn.btn-secondary.my-1(type='button', data-bs-dismiss='modal') &#x6295;&#x7968;
                  br
                  button#fileButton.btn.btn-secondary.my-1(type='button', data-bs-dismiss='modal') &#x6A94;&#x6848;
                  br
                  button#captionButton.btn.btn-secondary.my-1(type='button', data-bs-dismiss='modal') &#x5B57;&#x5E55;
                  br
                  button#voiceZeroButton.btn.btn-dark.my-1(type='button', data-bs-dismiss='modal') &#x975C;&#x97F3;
                  br
                  label.form-label(for='voiceRange') &#x5587;&#x53ED;&#x97F3;&#x91CF;
                  input#voiceRange.form-range(type='range', min='0', max='100', value='50')
                  label.form-label(for='microphoneRange') &#x9EA5;&#x514B;&#x98A8;&#x97F3;&#x91CF;
                  input#microphoneRange.form-range(type='range', min='0', max='100', value='50')
                  label.form-label(for='captionSelect') &#x5B57;&#x5E55;&#x5C0D;&#x8C61;
                  select#captionSelect.form-select(aria-label='Default select example')
                  label.form-label(for='microphoneSelect') &#x9EA5;&#x514B;&#x98A8;
                  select#microphoneSelect.form-select(aria-label='Default select example')
                  label.form-label(for='cameraSelect') &#x93E1;&#x982D;
                  select#cameraSelect.form-select(aria-label='Default select example')
                  label.form-label(for='hornSelect') &#x5587;&#x53ED;
                  select#hornSelect.form-select(aria-label='Default select example')
      div.d-flex.flex-row.flex-grow-1.mx-1.my-1
        div.container-fluid
          div.row
            div.col
              div#videoPage.ratio.ratio-16x9
                video#video(src='', muted)
                div.d-flex.align-items-start
                    p#showSleepNum.bg-secondary.text-white.h2 
                div.d-flex.align-items-end.justify-content-center
                    p#caption.bg-secondary.text-white.h2.visually-hidden 字幕
            div#messege.col-md-2.col-4
              div.d-flex.flex-column.h-100
                div.flex-grow-1
                  div#messegeShow.bg-secondary.bg-opacity-50.p-3.mb-3.mb-md-0.me-md-3.area.w-100(style='word-break: break-all; overflow: auto; height: 87vh;')
                div.input-group.mb-3
                  input#messegeInput.form-control(type='text', aria-describedby='messegeSend')
                  button#messegeSend.btn.btn-dark(type='button') &#x9001;&#x51FA;
            div#staff.col-md-2.col-4.visually-hidden
              div#staffInner.p-3.mb-3.mb-md-0.me-md-3.w-100.area.bg-secondary.bg-opacity-50(style='word-break: break-all; overflow: auto; height: 91vh;')
                div.my-1.border.border-dark
                  div.d-flex
                    svg#mySvg.bi.bi-mic-mute-fill.mx-1.my-1(xmlns='http://www.w3.org/2000/svg', width='16', height='16', fill='currentColor', viewBox='0 0 16 16')
                      path(d='M13 8c0 .564-.094 1.107-.266 1.613l-.814-.814A4.02 4.02 0 0 0 12 8V7a.5.5 0 0 1 1 0v1zm-5 4c.818 0 1.578-.245 2.212-.667l.718.719a4.973 4.973 0 0 1-2.43.923V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 1 0v1a4 4 0 0 0 4 4zm3-9v4.879L5.158 2.037A3.001 3.001 0 0 1 11 3z')
                      path(d='M9.486 10.607 5 6.12V8a3 3 0 0 0 4.486 2.607zm-7.84-9.253 12 12 .708-.708-12-12-.708.708z')
                    p#myP.text-center.margin-bottom-0
                  div.ratio.ratio-16x9
                    video#myVideo.bg-dark(muted)
            div#votePage.col-md-2.col-4.visually-hidden
              div.d-flex.flex-column.h-100.bg-secondary.bg-opacity-50
                button#createVote.btn.btn-dark.my-1(type='button') &#x5275;&#x5EFA;&#x6295;&#x7968;
                div.d-flex.flex-column.flex-grow-1
                  div#voteForm.p-3.mb-3.mb-md-0.me-md-3.area.w-100(class='bg-secondary.bg-gradient', style='word-break: break-all; overflow: auto; height: 87vh;')
            div#createVoteRoom.col-md-2.col-4.visually-hidden
              div.d-flex.flex-column.h-100.bg-secondary.bg-opacity-50
                button#returnVoteRoom.btn.btn-secondary.my-1(type='button') &#x8FD4;&#x56DE;
                div.d-flex.flex-column.flex-grow-1
                  div.p-3.mb-3.mb-md-0.me-md-3.area(style='word-break: break-all; overflow: auto; height: 87vh;')
                    label.form-label(for='voteName') &#x6295;&#x7968;&#x540D;&#x7A31;
                    input#voteName.form-control
                    label.form-label(for='numOfVoteOptions') &#x6578;&#x91CF;
                    select#numOfVoteOptions.form-select(aria-label='Default select example')
                      option(value='0') 0
                      option(value='1') 1
                      option(value='2') 2
                      option(value='3') 3
                      option(value='4') 4
                    div#inputVoteOptions
                    button#sendcCeateVote.btn.btn-dark.my-1(type='button') &#x9001;&#x51FA;
            div#filePage.col-md-2.col-4.visually-hidden
              div.d-flex.flex-column.h-100.bg-secondary.bg-opacity-50
                div.input-group
                  input#uploadFile.form-control(type='file', aria-describedby='sendFile', aria-label='Upload')
                  button#sendFile.btn.btn-dark(type='button') &#x9001;&#x51FA;
                hr
                div.d-flex.flex-column.flex-grow-1
                  div#file.p-3.mb-3.mb-md-0.me-md-3.area(style='word-break: break-all; overflow: auto; height: 84vh;')
            div#voteRoomsPage.col-md-2.col-4.visually-hidden
              div.d-flex.flex-column.h-100.bg-secondary.bg-opacity-50
                button#returnVoteRoom2.btn.btn-secondary.my-1(type='button') &#x8FD4;&#x56DE;
                div#voteRooms.d-flex.flex-column.flex-grow-1
    script.
        const ROOM_ID = "#{roomId}"
        const serverIp = "#{serverIp}"
    script(src='/javascripts/peerjs.min.js')
    script(src='/socket.io/socket.io.js')
    script(src="https://html2canvas.hertzen.com/dist/html2canvas.js")
    //- script(src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js")
    script(src='/javascripts/script.js')